!function(e){function t(t){for(var r,c,i=t[0],l=t[1],u=t[2],m=0,f=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;o.push([135,1]),n()}({135:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(4),c=n.n(o),i=(n(98),n(0)),l=n.n(i),u=n(44),s=n.n(u),m=n(3),f=n.n(m),d=n(9),p=n.n(d),h=(n(45),n(8)),v=n.n(h),b=(n(138),n(137));n(126);var y=n(127);Object(b.b)({fetch:y});var g="https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/BLS_Monthly_Unemployment_Current_14_Months/FeatureServer",E="fips, PctUnemployed_CurrentMonth, PctUnemployed_01Month, PctUnemployed_02Month, PctUnemployed_03Month, PctUnemployed_04Month, PctUnemployed_05Month, PctUnemployed_06Month, PctUnemployed_07Month, PctUnemployed_08Month, PctUnemployed_09Month, PctUnemployed_10Month, PctUnemployed_11Month, PctUnemployed_12Month, PctUnemployed_13Month, CurrentMonth, P13Month, LaborForce_CurrentMonth, Unemployed_CurrentMonth",x=("f=json&where=1=1&returnGeometry=false&returnCentroid=true&outSR=4326&outFields=".concat(E),function(){var e=c()(a.a.mark((function e(){var t,n,r,o,c,i,l,u,s,m,f,d,h,v,b,y,E,x,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,p.a.get("".concat(g,"/0/query"),{params:{where:"1=1",outFields:["CurrentMonth","P01Month","P02Month","P03Month","P04Month","P05Month","P06Month","P07Month","P08Month","P09Month","P10Month","P11Month","P12Month","P13Month"].join(","),returnGeometry:!1,f:"json"}});case 3:return n=e.sent,(r=n.data).features&&(o=r.features[0],c=o.attributes,i=c.CurrentMonth,l=c.P01Month,u=c.P02Month,s=c.P03Month,m=c.P04Month,f=c.P05Month,d=c.P06Month,h=c.P07Month,v=c.P08Month,b=c.P09Month,y=c.P10Month,E=c.P11Month,x=c.P12Month,j=c.P13Month,t=[i,l,u,s,m,f,d,h,v,b,y,E,x,j].reverse()),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),j=Object(i.createContext)(null),O=function(){var e=c()(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"./public",e.prev=1,e.next=4,p.a.get("".concat("./public","/").concat(t));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=e.children,n=Object(i.useState)(),r=f()(n,2),o=r[0],u=r[1],s=function(){var e=c()(a.a.mark((function e(){var t,n,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("unemployment-states-paths.json");case 3:return t=e.sent,e.next=6,O("unemployment-counties-paths.json");case 6:return n=e.sent,e.next=9,O("unemployment-national-paths.json");case 9:return r=e.sent,e.next=12,O("unemployment-data.json");case 12:return o=e.sent,e.next=15,x();case 15:c=e.sent,u({unemploymentDataPathsStates:t,unemploymentDataPathsCounties:n,unemploymentDataPathsUS:r,unemploymentDataByFIPS:o,months:c}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){s()}),[]),l.a.createElement(j.Provider,{value:o},o?t:null)},w=n(7),P=function(e){var t=e.webmapId,n=e.children,r=l.a.useRef(),o=l.a.useState(null),i=f()(o,2),u=i[0],s=i[1],m=function(){var e=c()(a.a.mark((function e(){var n,o,c,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.loadModules)(["esri/views/MapView","esri/WebMap"]);case 3:n=e.sent,o=f()(n,2),c=o[0],i=o[1],(l=new c({container:r.current,map:new i({portalItem:{id:t}})})).when((function(){s(l)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=c()(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.loadModules)(["esri/core/watchUtils"]);case 3:t=e.sent,n=f()(t,1),n[0].whenTrue(u,"stationary",(function(){u.zoom})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){Object(w.loadCss)(),m()}),[]),l.a.useEffect((function(){u&&d()}),[u]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:r}),u?l.a.Children.map(n,(function(e){return l.a.cloneElement(e,{mapView:u})})):null)},S={min:99999999,max:3e6},k={min:3e6,max:0},C=[255,155,10,255],F=[51,146,214,255],L=function(){var e=Object(i.useContext)(j),t=e.unemploymentDataPathsStates,n=e.unemploymentDataPathsCounties,r=e.unemploymentDataPathsUS,a=e.unemploymentDataByFIPS,o=Object(i.useState)(),c=f()(o,2),u=c[0],s=c[1],m=Object(i.useState)(!1),d=f()(m,2),p=d[0],h=d[1];return Object(i.useEffect)((function(){}),[u]),l.a.createElement(l.a.Fragment,null,l.a.createElement(P,{webmapId:"8054e038927a48419ee0dddb86006ad6"},l.a.createElement(fe,{showDeviation:p,nationalLevelData:r,data:t,visibleScale:S,color:C,referenceLineColor:F}),l.a.createElement(fe,{showDeviation:p,nationalLevelData:r,data:n,visibleScale:k,color:C,referenceLineColor:F}),l.a.createElement(me,{key:"query-4-US-Counties",url:"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/USA_Counties_Generalized/FeatureServer/0",outFields:["FIPS"],visibleScale:k,onSelect:function(e){var t=e?e.attributes.FIPS:void 0;s(a[t])}}),l.a.createElement(me,{key:"query-4-US-States",url:"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/USA_States_Generalized/FeatureServer/0",outFields:["STATE_FIPS"],visibleScale:S,onSelect:function(e){var t=e?e.attributes.STATE_FIPS:void 0;s(a[t])}})),l.a.createElement(de,{showDeviation:p,onChange:h.bind(void 0,!p)}),l.a.createElement(se,{data:u}))},U=n(11),I=n.n(U),z=n(12),D=n(15),H=n.n(D),_={default:"font-size-0",small:"font-size--2",medium:"font-size-2",large:"font-size-4"},R=function(e){var t=e.color,n=void 0===t?"blue":t,r=e.size,a=void 0===r?"default":r,o=e.customFontSize,c=e.customLineHeight,i=e.children,u=o?"":_[a],s=H()("avenir-bold ".concat(u),{"text-theme-color-orange":"orange"===n,"text-theme-color-blue":"blue"===n}),m=o||c?{fontSize:o||"default",lineHeight:c||"default"}:null;return l.a.createElement("span",{className:s,style:m},i)},A=function(e){var t=e.value,n=e.title;return l.a.createElement("div",{className:"trailer-quarter"},l.a.createElement("div",null,l.a.createElement(R,{color:"blue"},n)),l.a.createElement("div",null,l.a.createElement(R,{color:"orange",size:"large",customLineHeight:"1"},t)))},G=n(13);function N(){var e=I()(["\n    margin-right: 4rem;\n"]);return N=function(){return e},e}var T=z.a.div(N()),V=function(e){var t=e.data,n=Object(i.useMemo)((function(){return Math.floor((t.attributes.workforce-t.attributes.unemployed)/t.attributes.workforce*100)}),[t]);return l.a.createElement(T,null,l.a.createElement("div",{className:"trailer-half"},l.a.createElement("div",null,l.a.createElement(R,{color:"orange",size:"large"},t.attributes.name)),l.a.createElement("div",{className:"avenir-bold font-size-0"},l.a.createElement(R,{color:"orange"},G.numberFns.numberWithCommas(t.attributes.population))," ",l.a.createElement(R,null,"Total population"))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"padding-right-1",style:{borderRight:"1px solid ".concat("rgba(20,106,164,.5)")}},l.a.createElement(A,{title:"Labor Force",value:G.numberFns.numberWithCommas(t.attributes.workforce)}),l.a.createElement(A,{title:"Participation Rate",value:"".concat(n,"%")})),l.a.createElement("div",{className:"margin-left-1"},l.a.createElement(A,{title:"Employed",value:G.numberFns.numberWithCommas(t.attributes.workforce-t.attributes.unemployed)}),l.a.createElement(A,{title:"Unemployed",value:G.numberFns.numberWithCommas(t.attributes.unemployed)}))))};function B(){var e=I()(["\n    border-right: 1px solid ",";\n    width: 120px;\n    padding-right: 0.75rem;\n    margin-right: 1rem;\n"]);return B=function(){return e},e}function W(){var e=I()(["\n    display: flex;\n"]);return W=function(){return e},e}var J=z.a.div(W()),q=z.a.div(B(),"rgba(20,106,164,.5)"),Y=function(e){var t,n=e.data,r=Object(i.useMemo)((function(){return function(e){for(var t=e.PctUnemployed,n=0,r=0,a=0;a<t.length;a++)t[a]>t[r]&&(r=a),t[a]<t[n]&&(n=a);return[t[t.length-2],t[t.length-13],t[r],t[n]]}(n)}),[n]),a=f()(r,4),o=a[0],c=a[1],u=a[2],s=a[3];return l.a.createElement("div",{style:{marginRight:"4rem"}},l.a.createElement("div",null,l.a.createElement(R,null,"Unemployment Rate")),l.a.createElement(J,null,l.a.createElement("div",{style:{lineHeight:"1.1",marginRight:"2rem"}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(R,{color:"orange",customFontSize:"7rem"},n.attributes.unemploymentRate),l.a.createElement("span",{className:"leader-half"},l.a.createElement(R,{color:"orange",customFontSize:"4rem"},"%")))),l.a.createElement("div",{style:{maxWidth:170}},l.a.createElement("div",{style:{lineHeight:"1.2",marginBottom:".75rem"}},(t=n.attributes.unemploymentRate)<4?l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{customLineHeight:"1"},"indicative of an"),l.a.createElement("br",null),l.a.createElement(R,{customLineHeight:"1"},"Economic Boom")):t<6?l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{customLineHeight:"1"},"Healthy Levels"),l.a.createElement("br",null),l.a.createElement(R,{customLineHeight:"1"},"of Employment")):l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{customLineHeight:"1"},"Recession Level"),l.a.createElement("br",null),l.a.createElement(R,{customLineHeight:"1"},"Unemployment"))),l.a.createElement("div",{style:{lineHeight:"1.2"}},l.a.createElement(R,{customLineHeight:"1"},"Rank #",G.numberFns.numberWithCommas(n.attributes.rank)),l.a.createElement("br",null),l.a.createElement(R,{customLineHeight:"1"},"of 3,141 US Counties")))),l.a.createElement(J,null,l.a.createElement(q,null,l.a.createElement(A,{title:"Last Month",value:o.toString()})),l.a.createElement(q,null,l.a.createElement(A,{title:"Last Year",value:c.toString()})),l.a.createElement(q,null,l.a.createElement(A,{title:"14 Month HIGH",value:u.toString()})),l.a.createElement(A,{title:"14 Month LOW",value:s.toString()})))},X=n(2),K={top:15,right:15,bottom:25,left:30},Q=function(e){var t=e.xScale,n=e.yScale,r=e.data,a=e.svgContainerData,o=e.color,c=Object(i.useRef)();return Object(i.useEffect)((function(){var e,i;a&&t&&n&&r&&(e=a.dimension.height,(i=Object(X.j)(c.current).selectAll("rect")).size()&&i.remove(),Object(X.j)(c.current).selectAll("rect").data(r).enter().append("rect").style("fill",o||"#FF8000").attr("x",(function(e){return t(e.key)})).attr("width",t.bandwidth()).attr("y",(function(e){return n(e.value)})).attr("height",(function(t){return e-n(t.value)})))}),[t,n,r]),l.a.createElement("g",{ref:c,className:"bar-group"})},Z=function(e){var t=e.xScale,n=e.yScale,r=e.data,a=e.svgContainerData,o=e.color,c=e.width,u=l.a.useRef(),s=Object(i.useMemo)((function(){return"bandwidth"in t?t.bandwidth()/2:0}),[t]),m=Object(i.useMemo)((function(){return Object(X.d)().curve(X.c).x((function(e){return"bandwidth"in t?t(e.key)+s:t(+e.key)})).y((function(e){return n(e.value)}))}),[t,n]),f=function(){var e=Object(X.j)(u.current).selectAll("path");e.size()&&e.remove().exit()};return Object(i.useEffect)((function(){a&&t&&n&&r&&(f(),Object(X.j)(u.current).append("path").data([r]).attr("d",m).style("fill","none").style("stroke",o||"#136AA4").style("stroke-width",c||2))}),[t,n,r]),l.a.createElement("g",{ref:u,className:"line-group"})},$=function(e){var t=e.xScale,n=e.xDomain,r=e.svgContainerData,a=e.onHover,o=Object(i.useRef)(),c=Object(i.useRef)(),u=function(e){c.current=e,s(),a(e)},s=function(){var e=Object(X.j)(o.current).select("line"),t=c.current?1:0,n=c.current?c.current.xPosition:0;e.attr("x1",n).attr("x2",n).style("opacity",t)},m=function(e){var a=r.dimension.width,o="bandwidth"in t?t.bandwidth()/2:0;if(e<o||e>a-o){var c=e<o?0:n.length-1,i=n[c];return{index4ItemOnHover:c,xPosition:"bandwidth"in t?t(i)+o:t(+i)}}for(var l=-1,u=0,s=0,m=n.length;s<m;s++){var f=n[s],d="bandwidth"in t?t(f)+o:t(+f),p=n[s+1]?s+1:s,h=n[p],v="bandwidth"in t?t(h)+o:t(+h);if(e>=d&&e<=v){var b=Math.abs(e-d),y=Math.abs(e-v);l=b<y?s:p,u=b<y?d:v;break}}return{index4ItemOnHover:l,xPosition:u}};return Object(i.useEffect)((function(){var e,t;r&&(e=r.dimension.height,(t=Object(X.j)(o.current)).selectAll("line").size()||t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",e).style("opacity",0).attr("stroke-width",.5).attr("stroke","rgba(20,106,164,.5)").style("fill","none"),function(){var e=r.dimension,t=e.height,n=e.width,a=Object(X.j)(o.current);a.selectAll("rect").remove(),a.append("rect").attr("width",n).attr("height",t).attr("fill","rgba(0,0,0,0)").on("mouseleave",(function(){u(null)})).on("mousemove",(function(){var e=Object(X.f)(this)[0];u(m(e))}))}())}),[r]),l.a.createElement("g",{className:"pointer-event-overlay-group",ref:o})},ee=function(e){var t=e.margin,n=void 0===t?K:t,r=e.resizable,a=e.dimensionOnChange,o=e.children,c=Object(i.useRef)(),u=Object(i.useRef)(),s=Object(i.useRef)(),m=Object(i.useRef)(),d=l.a.useState(),p=f()(d,2),h=p[0],v=p[1],b=function(){var e=Object(X.j)(u.current).node(),t=Object(X.j)(s.current).node(),r=c.current,o=r.offsetWidth-n.left-n.right,i=r.offsetHeight-n.top-n.bottom;m.current={height:i,width:o},a&&a(m.current),v({svg:e,rootGroup:t,margin:n,dimension:m.current})};return Object(i.useEffect)((function(){b()}),[]),Object(i.useLayoutEffect)((function(){return r&&window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}),[]),l.a.createElement("div",{ref:c,style:{position:"relative",width:"100%",height:"100%"}},l.a.createElement("svg",{ref:u,style:{width:"100%",height:"100%"}},l.a.createElement("g",{ref:s,style:{transform:"translate(".concat(n.left,"px, ").concat(n.top,"px)")}},h?l.a.Children.map(o,(function(e){return l.a.cloneElement(e,{svgContainerData:h})})):null)))},te=function(e){var t=e.dimension,n=e.pointerPosition,r=e.data4Bars,a=e.data4Line,o=e.margin,c=void 0===o?K:o,u=l.a.useRef(),s=l.a.useState({top:0,left:0}),m=f()(s,2),d=m[0],p=m[1];return Object(i.useEffect)((function(){n&&function(){var e=u.current;if(e){var r=t.width,a=e.offsetWidth,o=-(e.offsetHeight-c.top),i=n.xPosition+c.left,l=i+a/2>=r+c.left?i-a:i-a/2;l=l>=c.left?l:c.left,p({top:o,left:l})}}()}),[n]),l.a.createElement("div",{ref:u,style:{display:n?"block":"none",position:"absolute",left:"".concat(d.left,"px"),top:"".concat(d.top,"px"),pointerEvents:"none",boxSizing:"border-box",boxShadow:"0 0 10px 2px ".concat("#rgba(0,0,0,.25)"),zIndex:5}},l.a.createElement(ne,{index4ItemOnHover:n?n.index4ItemOnHover:-1,barDataOnHover:n&&r?r[n.index4ItemOnHover]:void 0,lineDataOnHover:n&&a?a[n.index4ItemOnHover]:void 0}))},ne=function(e){e.index4ItemOnHover;var t=e.barDataOnHover,n=e.lineDataOnHover;return l.a.createElement("div",{className:"font-size--1 avenir-bold",style:{padding:".5rem",background:"rgba(3, 26, 57, 0.9)",color:"#fff"}},l.a.createElement("div",null,l.a.createElement("span",{className:"text-theme-color-orange"},"Local: ",t?t.value:"n/a","%"),l.a.createElement("br",null),l.a.createElement("span",{className:"text-theme-color-blue"},"National: ",n?n.value:"n/a","%")))},re=function(e){var t=e.scale,n=e.svgContainerData,r=e.tickValues,a=e.timeFormatSpecifier,o=Object(i.useContext)(j).months,c=a?Object(X.k)(a):null;return Object(i.useEffect)((function(){n&&function(){var e=n.rootGroup,a=n.dimension.height,i=null;i=Object(X.a)(t),r&&i.tickValues(r),c&&i.tickFormat((function(e){var t=new Date(+e);return c(t)})),i.tickFormat((function(e){var t=o[e].split(" "),n=f()(t,2),r=n[0],a=n[1],c=r.slice(0,3);return"Jan"===c?"".concat(c," ").concat(a):c}));var l=Object(X.j)(e).selectAll(".x.axis");if(l.size())l.attr("transform","translate(0,".concat(a,")")).call(i);else{Object(X.j)(e).append("g").attr("class","x axis").attr("transform","translate(0,".concat(a,")")).call(i);var u=Object(X.j)(e).select(".x.axis");u.selectAll(".domain, .tick line").attr("stroke","rgba(20,106,164,.5)"),u.selectAll(".tick text").style("fill","#136AA4")}}()}),[t,n]),null},ae=function(e){var t=e.scale,n=e.svgContainerData;return Object(i.useEffect)((function(){n&&function(){var e=n.rootGroup,r=Object(X.b)(t).ticks(3).tickPadding(5),a=Object(X.j)(e).selectAll(".y.axis");if(a.size())a.call(r);else{Object(X.j)(e).append("g").attr("class","y axis").call(r);var o=Object(X.j)(e).select(".y.axis");o.selectAll(".domain, .tick line").attr("stroke","rgba(20,106,164,.5)"),o.selectAll(".tick text").style("fill","#136AA4")}}()}),[t,n]),null},oe=function(e){var t=e.data4Bars,n=void 0===t?[]:t,r=e.data4Line,a=void 0===r?[]:r,o=e.barColor,c=e.lineColor,u=e.lineWidth,s=e.margin,m=e.timeFormatSpecifier,d=e.numOfTicksOnXAxisToHide,p=e.resizable,h=void 0===p||p,b=Object(i.useState)({height:0,width:0}),y=f()(b,2),g=y[0],E=y[1],x=Object(i.useState)(),j=f()(x,2),O=j[0],M=j[1],w=Object(i.useMemo)((function(){return n.length||a.length?(n&&n.length?v()(n):v()(a)).map((function(e){return"number"==typeof e.key?e.key.toString():e.key})):[]}),[n,a]),P=Object(i.useMemo)((function(){var e=g.width;if(n&&n.length)return Object(X.g)().paddingInner(.9).range([0,e]).domain(w);var t=+a[0].key,r=Object(X.e)(a,(function(e){return+e.key}));return m?Object(X.i)().range([0,e]).domain([t,r]):Object(X.h)().range([0,e]).domain([t,r])}),[g,w]),S=Object(i.useMemo)((function(){var e=g.height,t=n&&n.length?Object(X.e)(n,(function(e){return e.value})):0,r=a&&a.length?Object(X.e)(a,(function(e){return e.value})):void 0,o=Object(X.e)([t,r]);return Object(X.h)().range([e,0]).domain([0,o])}),[g,n,a]),k=Object(i.useMemo)((function(){if(d&&!(d<=1))return n.map((function(e){return e.key})).filter((function(e,t){return!(t%d)}))}),[n]);return l.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",boxSizing:"border-box"}},l.a.createElement(ee,{margin:s,resizable:h,dimensionOnChange:E},n&&n.length?l.a.createElement(Q,{data:n,xScale:P,yScale:S,color:o}):l.a.createElement(l.a.Fragment,null),a&&a.length?l.a.createElement(Z,{data:a,xScale:P,yScale:S,color:c,width:u}):l.a.createElement(l.a.Fragment,null),l.a.createElement(re,{scale:P,timeFormatSpecifier:m,tickValues:k}),l.a.createElement(ae,{scale:S}),l.a.createElement($,{xDomain:w,xScale:P,onHover:M})),l.a.createElement(te,{pointerPosition:O,dimension:g,data4Bars:n,data4Line:a,margin:s}))},ce=function(e,t){return e.map((function(e,t){return{key:t,value:e}}))},ie=function(e){var t=e.data,n=Object(i.useContext)(j),r=n.unemploymentDataByFIPS,a=(n.months,Object(i.useMemo)((function(){var e=r[0].PctUnemployed;return ce(e)}),[r])),o=Object(i.useMemo)((function(){var e=t.PctUnemployed;return ce(e)}),[t]);return l.a.createElement("div",{style:{position:"relative",flexGrow:1}},l.a.createElement("div",{className:"text-right",style:{position:"absolute",top:".25rem",right:".25rem"}},l.a.createElement(R,{color:"orange"},"Local Unemployment"),l.a.createElement("br",null),l.a.createElement(R,{color:"blue"},"National Unemployment")),l.a.createElement(oe,{data4Bars:o,data4Line:a}))};function le(){var e=I()(["\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 250px;\n    display: flex;\n    box-sizing: border-box;\n    background-color: ",";\n    padding: 1rem 2rem;\n"]);return le=function(){return e},e}var ue=z.a.div(le(),"rgba(3, 26, 57, 0.9)"),se=function(e){var t=e.data;return t?l.a.createElement(ue,null,l.a.createElement(V,{data:t}),l.a.createElement(Y,{data:t}),l.a.createElement(ie,{data:t})):null},me=function(e){var t=e.url,n=e.outFields,r=e.mapView,o=e.visibleScale,l=e.onSelect,u=Object(i.useRef)(),s=Object(i.useRef)(),m=function(){var e=c()(a.a.mark((function e(){var c,i,l,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.loadModules)(["esri/layers/FeatureLayer"]);case 3:c=e.sent,i=f()(c,1),l=i[0],m=new l({url:t,minScale:o&&o.min,maxScale:o&&o.max,visible:!0,popupEnabled:!1,outFields:n,opacity:0}),r.map.add(m),r.whenLayerView(m).then((function(e){u.current=m,s.current=e,p()})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=c()(a.a.mark((function e(t){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.scale<u.current.minScale&&r.scale>u.current.maxScale)){e.next=6;break}return e.next=4,s.current.queryFeatures({where:"1=1",geometry:r.toMap(t),returnGeometry:!0,outFields:n||["*"]});case 4:o=e.sent,l(o.features&&o.features.length?o.features[0]:void 0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){r.on("click",(function(e){d(e)}))};return Object(i.useEffect)((function(){r&&m()}),[r]),null},fe=function(e){var t=e.data,n=e.nationalLevelData,r=e.showDeviation,o=e.color,l=e.referenceLineColor,u=e.visibleScale,s=e.mapView,m=Object(i.useRef)(),d=Object(i.useRef)(),p=Object(i.useState)(!1),h=f()(p,2),v=h[0],b=h[1],y=function(){var e=c()(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.loadModules)(["esri/layers/GraphicsLayer","esri/core/watchUtils"]);case 3:t=e.sent,n=f()(t,2),r=n[0],o=n[1],d.current=new r({minScale:u&&u.min,maxScale:u&&u.max,visible:!1}),s.map.add(d.current),o.whenTrue(s,"stationary",(function(){var e=s.scale<u.min&&s.scale>u.max;b(e)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=c()(a.a.mark((function e(){var c,i,u,s,p,h,v,b,y,g,E;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.current,i=n.features[0].PctUnemployed.path,u=n.frames.PctUnemployed,e.prev=3,e.next=6,Object(w.loadModules)(["esri/symbols/CIMSymbol","esri/Graphic","esri/geometry/Point"]);case 6:s=e.sent,p=f()(s,3),h=p[0],v=p[1],b=p[2],y=t.features,g=t.frames,E=r?g.PctUnemployedDeviation:g.PctUnemployed,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=800,a=t+n<y.length?t+n:y.length,s=y.slice(t,a),f=s.map((function(e){var t=e.geometry,n=e.PctUnemployed,a=e.PctUnemployedDeviation,c={x:0,y:r?0:-.5},s=r?60:30,m=(r?a:n).path,f=new h({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",anchorPoint:c,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:s,frame:E,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[m]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:o}]}}]},r?null:{type:"CIMVectorMarker",anchorPoint:c,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:s,frame:u,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[i]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:l}]}}]},r?{type:"CIMVectorMarker",anchorPoint:c,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:s,frame:E,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[0,0],[E.xmax,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:l}]}}]}:null]}}});return new v({geometry:new b({latitude:t.y,longitude:t.x}),symbol:f})}));c.addMany(f),t+n<y.length?m.current=setTimeout((function(){e(t+n)}),1):c.visible=!0}(0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){s&&y()}),[s]),Object(i.useEffect)((function(){d.current&&t&&(d.current.removeAll(),clearTimeout(m.current),v&&g())}),[d,t,r]),Object(i.useEffect)((function(){t&&v&&!d.current.graphics.length&&(clearTimeout(m.current),g())}),[v]),null},de=function(e){var t=e.showDeviation,n=e.onChange;return l.a.createElement("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#fff",padding:".5rem",cursor:"pointer",zIndex:1},onClick:n},l.a.createElement("nav",{className:"breadcrumbs modifier-class"},l.a.createElement("span",{className:H()("crumb",{"is-active":!t})},"Pct Unemployment"),l.a.createElement("span",{className:H()("crumb",{"is-active":t})},"Deviation")))},pe=function(){return l.a.createElement(L,null)};c()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(M,null,l.a.createElement(pe,null))),document.getElementById("root"));case 1:case"end":return e.stop()}}),e)})))()},98:function(e,t,n){}});
//# sourceMappingURL=main.14c93a275c19751eed2a.js.map