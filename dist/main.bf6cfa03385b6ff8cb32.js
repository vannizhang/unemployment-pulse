!function(e){function t(t){for(var r,c,i=t[0],l=t[1],u=t[2],m=0,f=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;o.push([135,1]),n()}({135:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(4),c=n.n(o),i=(n(98),n(0)),l=n.n(i),u=n(44),s=n.n(u),m=n(2),f=n.n(m),d=n(12),p=n.n(d),h=(n(45),n(11)),v=n.n(h),b=(n(138),n(137));n(126);var y=n(127);Object(b.b)({fetch:y});var g="https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/BLS_Monthly_Unemployment_Current_14_Months/FeatureServer",x="fips, PctUnemployed_CurrentMonth, PctUnemployed_01Month, PctUnemployed_02Month, PctUnemployed_03Month, PctUnemployed_04Month, PctUnemployed_05Month, PctUnemployed_06Month, PctUnemployed_07Month, PctUnemployed_08Month, PctUnemployed_09Month, PctUnemployed_10Month, PctUnemployed_11Month, PctUnemployed_12Month, PctUnemployed_13Month, CurrentMonth, P13Month, LaborForce_CurrentMonth, Unemployed_CurrentMonth",E=("f=json&where=1=1&returnGeometry=false&returnCentroid=true&outSR=4326&outFields=".concat(x),function(){var e=c()(a.a.mark((function e(){var t,n,r,o,c,i,l,u,s,m,f,d,h,v,b,y,x,E,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,p.a.get("".concat(g,"/0/query"),{params:{where:"1=1",outFields:["CurrentMonth","P01Month","P02Month","P03Month","P04Month","P05Month","P06Month","P07Month","P08Month","P09Month","P10Month","P11Month","P12Month","P13Month"].join(","),returnGeometry:!1,f:"json"}});case 3:return n=e.sent,(r=n.data).features&&(o=r.features[0],c=o.attributes,i=c.CurrentMonth,l=c.P01Month,u=c.P02Month,s=c.P03Month,m=c.P04Month,f=c.P05Month,d=c.P06Month,h=c.P07Month,v=c.P08Month,b=c.P09Month,y=c.P10Month,x=c.P11Month,E=c.P12Month,j=c.P13Month,t=[i,l,u,s,m,f,d,h,v,b,y,x,E,j].reverse()),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),j=Object(i.createContext)(null),w=function(){var e=c()(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"./public",e.prev=1,e.next=4,p.a.get("".concat("./public","/").concat(t));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=e.children,n=Object(i.useState)(),r=f()(n,2),o=r[0],u=r[1],s=function(){var e=c()(a.a.mark((function e(){var t,n,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("unemployment-states-paths.json");case 3:return t=e.sent,e.next=6,w("unemployment-counties-paths.json");case 6:return n=e.sent,e.next=9,w("unemployment-national-paths.json");case 9:return r=e.sent,e.next=12,w("unemployment-data.json");case 12:return o=e.sent,e.next=15,E();case 15:c=e.sent,u({unemploymentDataPathsStates:t,unemploymentDataPathsCounties:n,unemploymentDataPathsUS:r,unemploymentDataByFIPS:o,months:c}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){s()}),[]),l.a.createElement(j.Provider,{value:o},o?t:null)},M=n(6),S=n(8),P=S.urlFns.parseHash(),k=function(e){return"@"===e?F(P):P[e]||null},C=function(e){if(e){var t=e.lon,n=e.lat,r=e.zoom;S.urlFns.updateHashParam({key:"@",value:"".concat(t,",").concat(n,",").concat(r)})}},F=function(e){if(!e["@"])return null;var t=e["@"].split(",").map((function(e){return+e})),n=f()(t,3);return{lon:n[0],lat:n[1],zoom:n[2]}},L=function(e){S.urlFns.updateHashParam({key:"fips",value:e||""})},U=k("@"),z=function(e){var t=e.webmapId,n=e.children,r=l.a.useRef(),o=l.a.useState(null),i=f()(o,2),u=i[0],s=i[1],m=function(){var e=c()(a.a.mark((function e(){var n,o,c,i,l,u,m,d,p,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.loadModules)(["esri/views/MapView","esri/WebMap"]);case 3:n=e.sent,o=f()(n,2),c=o[0],i=o[1],u=(l=U||{}).lat,m=l.lon,d=l.zoom,p=m&&u?[m,u]:void 0,(h=new c({container:r.current,map:new i({portalItem:{id:t}}),center:p,zoom:d})).when((function(){s(h)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=c()(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.loadModules)(["esri/core/watchUtils"]);case 3:t=e.sent,n=f()(t,1),n[0].whenTrue(u,"stationary",(function(){if(-1!==u.zoom){var e={lat:u.center&&u.center.latitude?+u.center.latitude.toFixed(3):0,lon:u.center&&u.center.longitude?+u.center.longitude.toFixed(3):0,zoom:u.zoom};C(e)}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){Object(M.loadCss)(),m()}),[]),l.a.useEffect((function(){u&&d()}),[u]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:r}),u?l.a.Children.map(n,(function(e){return l.a.cloneElement(e,{mapView:u})})):null)},I={min:99999999,max:3e6},H={min:3e6,max:0},D=[255,155,10,255],_=[51,146,214,255],R=k("fips"),A=function(){var e=Object(i.useContext)(j),t=e.unemploymentDataPathsStates,n=e.unemploymentDataPathsCounties,r=e.unemploymentDataPathsUS,a=e.unemploymentDataByFIPS,o=Object(i.useState)(a[R]),c=f()(o,2),u=c[0],s=c[1],m=Object(i.useState)(!1),d=f()(m,2),p=d[0],h=d[1],v=Object(i.useState)(),b=f()(v,2),y=b[0],g=b[1];return Object(i.useEffect)((function(){if(y){var e=y?y.attributes.FIPS||y.attributes.STATE_FIPS:void 0;s(a[e]),L(e)}}),[y]),l.a.createElement(l.a.Fragment,null,l.a.createElement(z,{webmapId:"8054e038927a48419ee0dddb86006ad6"},l.a.createElement(Fe,{showDeviation:p,nationalLevelData:r,data:t,visibleScale:I,color:D,referenceLineColor:_}),l.a.createElement(Fe,{showDeviation:p,nationalLevelData:r,data:n,visibleScale:H,color:D,referenceLineColor:_}),l.a.createElement(Ce,{key:"query-4-US-Counties",url:"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/USA_Counties_Generalized/FeatureServer/0",outFields:["FIPS"],visibleScale:H,onSelect:g}),l.a.createElement(Ce,{key:"query-4-US-States",url:"https://services.arcgis.com/P3ePLMYs2RVChkJx/ArcGIS/rest/services/USA_States_Generalized/FeatureServer/0",outFields:["STATE_FIPS"],visibleScale:I,onSelect:g}),l.a.createElement(ke,{queryResult:y})),l.a.createElement(Le,{showDeviation:p,onChange:h.bind(void 0,!p)}),l.a.createElement(Pe,{data:u,close:function(){g(null),s(null),L()}}))},G=n(9),N=n.n(G),V=n(10),T=n(15),B=n.n(T),W={default:"font-size-0",small:"font-size--2",medium:"font-size-2",large:"font-size-4"},q=function(e){var t=e.color,n=void 0===t?"blue":t,r=e.size,a=void 0===r?"default":r,o=e.customFontSize,c=e.customLineHeight,i=e.children,u=o?"":W[a],s=B()("avenir-bold ".concat(u),{"text-theme-color-orange":"orange"===n,"text-theme-color-blue":"blue"===n}),m=o||c?{fontSize:o||"default",lineHeight:c||"default"}:null;return l.a.createElement("span",{className:s,style:m},i)},J=function(e){var t=e.value,n=e.title,r=e.subtitle;return l.a.createElement("div",{className:"trailer-quarter"},l.a.createElement("div",null,l.a.createElement(q,{color:"blue"},n)),l.a.createElement("div",{style:{display:"flex",alignItems:"flex-start"}},l.a.createElement(q,{color:"orange",size:"large",customLineHeight:"1"},t),r?l.a.createElement("div",{className:"margin-left-quarter"},l.a.createElement(q,{color:"orange",size:"small",customLineHeight:"1"},r)):null))};function Y(){var e=N()(["\n    margin-right: 4rem;\n"]);return Y=function(){return e},e}var X=V.a.div(Y()),K=function(e){var t=e.data,n=Object(i.useMemo)((function(){return Math.floor((t.attributes.workforce-t.attributes.unemployed)/t.attributes.workforce*100)}),[t]);return l.a.createElement(X,null,l.a.createElement("div",{className:"trailer-half"},l.a.createElement("div",null,l.a.createElement(q,{color:"orange",size:"large"},t.attributes.name)),l.a.createElement("div",{className:"avenir-bold font-size-0"},l.a.createElement(q,{color:"orange"},S.numberFns.numberWithCommas(t.attributes.population))," ",l.a.createElement(q,null,"Total population"))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:"padding-right-1",style:{borderRight:"1px solid ".concat("rgba(20,106,164,.5)")}},l.a.createElement(J,{title:"Labor Force",value:S.numberFns.numberWithCommas(t.attributes.workforce)}),l.a.createElement(J,{title:"Participation Rate",value:"".concat(n,"%")})),l.a.createElement("div",{className:"margin-left-1"},l.a.createElement(J,{title:"Employed",value:S.numberFns.numberWithCommas(t.attributes.workforce-t.attributes.unemployed)}),l.a.createElement(J,{title:"Unemployed",value:S.numberFns.numberWithCommas(t.attributes.unemployed)}))))};function Q(){var e=N()(["\n    border-right: 1px solid ",";\n    width: 135px;\n    padding-right: 0.75rem;\n    margin-right: 1rem;\n"]);return Q=function(){return e},e}function Z(){var e=N()(["\n    display: flex;\n"]);return Z=function(){return e},e}function $(){var e=N()(["\n    display: flex;\n"]);return $=function(){return e},e}function ee(){var e=N()(["\n    line-height: 1.1;\n    margin-right: 2rem;\n\n    @media (max-width: ","px) {\n        margin-right: 0.75rem;\n    }\n"]);return ee=function(){return e},e}function te(){var e=N()(["\n    margin-right: 4rem;\n\n    @media (max-width: ","px) {\n        margin-right: unset;\n        margin: 1rem 0;\n        padding: 1rem 0;\n        border-top: 1px solid ",";\n        border-bottom: 1px solid ",";\n    }\n"]);return te=function(){return e},e}var ne=V.a.div(te(),767,"rgba(20,106,164,.5)","rgba(20,106,164,.5)"),re=V.a.div(ee(),767),ae=V.a.div($()),oe=V.a.div(Z()),ce=V.a.div(Q(),"rgba(20,106,164,.5)"),ie=function(e,t){for(var n=e.PctUnemployed,r=n.length-2,a=n.length-13,o=0,c=0,i=0;i<n.length;i++)n[i]>n[c]&&(c=i),n[i]<n[o]&&(o=i);return[r,a,o,c].map((function(e){var r=n[e],a=t[e].split(" "),o=f()(a,2),c=o[0],i=o[1];return{month:"".concat(c.slice(0,3).toUpperCase()," '").concat(i.slice(2)),value:r}}))},le=function(e){return e<4?l.a.createElement(l.a.Fragment,null,l.a.createElement(q,{customLineHeight:"1"},"indicative of an"),l.a.createElement("br",null),l.a.createElement(q,{customLineHeight:"1"},"Economic Boom")):e<6?l.a.createElement(l.a.Fragment,null,l.a.createElement(q,{customLineHeight:"1"},"Healthy Levels"),l.a.createElement("br",null),l.a.createElement(q,{customLineHeight:"1"},"of Employment")):l.a.createElement(l.a.Fragment,null,l.a.createElement(q,{customLineHeight:"1"},"Recession Level"),l.a.createElement("br",null),l.a.createElement(q,{customLineHeight:"1"},"Unemployment"))},ue=function(e){var t=e.data,n=Object(i.useContext)(j).months,r=Object(i.useMemo)((function(){return ie(t,n)}),[t]),a=f()(r,4),o=a[0],c=a[1],u=a[2],s=a[3];return l.a.createElement(ne,null,l.a.createElement("div",null,l.a.createElement(q,null,"Unemployment Rate")),l.a.createElement(oe,null,l.a.createElement(re,null,l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(q,{color:"orange",customFontSize:"7rem"},t.attributes.unemploymentRate),l.a.createElement("span",{className:"leader-half"},l.a.createElement(q,{color:"orange",customFontSize:"4rem"},"%")))),l.a.createElement("div",{style:{maxWidth:170}},l.a.createElement("div",{style:{lineHeight:"1.2",marginBottom:".75rem"}},le(t.attributes.unemploymentRate)),l.a.createElement("div",{style:{lineHeight:"1.2"}},l.a.createElement(q,{customLineHeight:"1"},"Rank #",S.numberFns.numberWithCommas(t.attributes.rank)),l.a.createElement("br",null),l.a.createElement(q,{customLineHeight:"1"},"of 3,141 US Counties")))),l.a.createElement(ae,null,l.a.createElement(ce,null,l.a.createElement(J,{title:"Last Month",value:o.value.toString()})),l.a.createElement(ce,null,l.a.createElement(J,{title:"Last Year",value:c.value.toString()})),l.a.createElement(ce,null,l.a.createElement(J,{title:"14 Month HIGH",subtitle:s.month,value:s.value.toString()})),l.a.createElement(J,{title:"14 Month LOW",subtitle:u.month,value:u.value.toString()})))},se=n(3),me={top:15,right:15,bottom:25,left:30},fe=function(e){var t=e.xScale,n=e.yScale,r=e.data,a=e.svgContainerData,o=e.color,c=Object(i.useRef)();return Object(i.useEffect)((function(){var e,i;a&&t&&n&&r&&(e=a.dimension.height,(i=Object(se.j)(c.current).selectAll("rect")).size()&&i.remove(),Object(se.j)(c.current).selectAll("rect").data(r).enter().append("rect").style("fill",o||"#FF8000").attr("x",(function(e){return t(e.key)})).attr("width",t.bandwidth()).attr("y",(function(e){return n(e.value)})).attr("height",(function(t){return e-n(t.value)})))}),[t,n,r]),l.a.createElement("g",{ref:c,className:"bar-group"})},de=function(e){var t=e.xScale,n=e.yScale,r=e.data,a=e.svgContainerData,o=e.color,c=e.width,u=l.a.useRef(),s=Object(i.useMemo)((function(){return"bandwidth"in t?t.bandwidth()/2:0}),[t]),m=Object(i.useMemo)((function(){return Object(se.d)().curve(se.c).x((function(e){return"bandwidth"in t?t(e.key)+s:t(+e.key)})).y((function(e){return n(e.value)}))}),[t,n]),f=function(){var e=Object(se.j)(u.current).selectAll("path");e.size()&&e.remove().exit()};return Object(i.useEffect)((function(){a&&t&&n&&r&&(f(),Object(se.j)(u.current).append("path").data([r]).attr("d",m).style("fill","none").style("stroke",o||"#136AA4").style("stroke-width",c||2))}),[t,n,r]),l.a.createElement("g",{ref:u,className:"line-group"})},pe=function(e){var t=e.xScale,n=e.xDomain,r=e.svgContainerData,a=e.onHover,o=Object(i.useRef)(),c=Object(i.useRef)(),u=function(e){c.current=e,s(),a(e)},s=function(){var e=Object(se.j)(o.current).select("line"),t=c.current?1:0,n=c.current?c.current.xPosition:0;e.attr("x1",n).attr("x2",n).style("opacity",t)},m=function(e){var a=r.dimension.width,o="bandwidth"in t?t.bandwidth()/2:0;if(e<o||e>a-o){var c=e<o?0:n.length-1,i=n[c];return{index4ItemOnHover:c,xPosition:"bandwidth"in t?t(i)+o:t(+i)}}for(var l=-1,u=0,s=0,m=n.length;s<m;s++){var f=n[s],d="bandwidth"in t?t(f)+o:t(+f),p=n[s+1]?s+1:s,h=n[p],v="bandwidth"in t?t(h)+o:t(+h);if(e>=d&&e<=v){var b=Math.abs(e-d),y=Math.abs(e-v);l=b<y?s:p,u=b<y?d:v;break}}return{index4ItemOnHover:l,xPosition:u}};return Object(i.useEffect)((function(){var e,t;r&&(e=r.dimension.height,(t=Object(se.j)(o.current)).selectAll("line").size()||t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",e).style("opacity",0).attr("stroke-width",.5).attr("stroke","rgba(20,106,164,.5)").style("fill","none"),function(){var e=r.dimension,t=e.height,n=e.width,a=Object(se.j)(o.current);a.selectAll("rect").remove(),a.append("rect").attr("width",n).attr("height",t).attr("fill","rgba(0,0,0,0)").on("mouseleave",(function(){u(null)})).on("mousemove",(function(){var e=Object(se.f)(this)[0];u(m(e))}))}())}),[r]),l.a.createElement("g",{className:"pointer-event-overlay-group",ref:o})},he=function(e){var t=e.margin,n=void 0===t?me:t,r=e.resizable,a=e.dimensionOnChange,o=e.children,c=Object(i.useRef)(),u=Object(i.useRef)(),s=Object(i.useRef)(),m=Object(i.useRef)(),d=l.a.useState(),p=f()(d,2),h=p[0],v=p[1],b=function(){var e=Object(se.j)(u.current).node(),t=Object(se.j)(s.current).node(),r=c.current,o=r.offsetWidth-n.left-n.right,i=r.offsetHeight-n.top-n.bottom;m.current={height:i,width:o},a&&a(m.current),v({svg:e,rootGroup:t,margin:n,dimension:m.current})};return Object(i.useEffect)((function(){b()}),[]),Object(i.useLayoutEffect)((function(){return r&&window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}),[]),l.a.createElement("div",{ref:c,style:{position:"relative",width:"100%",height:"100%"}},l.a.createElement("svg",{ref:u,style:{width:"100%",height:"100%"}},l.a.createElement("g",{ref:s,style:{transform:"translate(".concat(n.left,"px, ").concat(n.top,"px)")}},h?l.a.Children.map(o,(function(e){return l.a.cloneElement(e,{svgContainerData:h})})):null)))},ve=function(e){var t=e.dimension,n=e.pointerPosition,r=e.data4Bars,a=e.data4Line,o=e.margin,c=void 0===o?me:o,u=l.a.useRef(),s=l.a.useState({top:0,left:0}),m=f()(s,2),d=m[0],p=m[1];return Object(i.useEffect)((function(){n&&function(){var e=u.current;if(e){var r=t.width,a=e.offsetWidth,o=-(e.offsetHeight-c.top),i=n.xPosition+c.left,l=i+a/2>=r+c.left?i-a:i-a/2;l=l>=c.left?l:c.left,p({top:o,left:l})}}()}),[n]),l.a.createElement("div",{ref:u,style:{display:n?"block":"none",position:"absolute",left:"".concat(d.left,"px"),top:"".concat(d.top,"px"),pointerEvents:"none",boxSizing:"border-box",boxShadow:"0 0 10px 2px ".concat("#rgba(0,0,0,.25)"),zIndex:5}},l.a.createElement(be,{index4ItemOnHover:n?n.index4ItemOnHover:-1,barDataOnHover:n&&r?r[n.index4ItemOnHover]:void 0,lineDataOnHover:n&&a?a[n.index4ItemOnHover]:void 0}))},be=function(e){e.index4ItemOnHover;var t=e.barDataOnHover,n=e.lineDataOnHover;return l.a.createElement("div",{className:"font-size--1 avenir-bold",style:{padding:".5rem",background:"rgba(3, 26, 57, 0.9)",color:"#fff"}},l.a.createElement("div",null,l.a.createElement("span",{className:"text-theme-color-orange"},"Local: ",t?t.value:"n/a","%"),l.a.createElement("br",null),l.a.createElement("span",{className:"text-theme-color-blue"},"National: ",n?n.value:"n/a","%")))},ye=function(e){var t=e.scale,n=e.svgContainerData,r=e.tickValues,a=e.timeFormatSpecifier,o=Object(i.useContext)(j).months,c=a?Object(se.k)(a):null;return Object(i.useEffect)((function(){n&&function(){var e=n.rootGroup,a=n.dimension.height,i=null;i=Object(se.a)(t),r&&i.tickValues(r),c&&i.tickFormat((function(e){var t=new Date(+e);return c(t)})),i.tickFormat((function(e){var t=o[e].split(" "),n=f()(t,2),r=n[0],a=n[1],c=r.slice(0,3);return"Jan"===c?"".concat(c," ").concat(a):c}));var l=Object(se.j)(e).selectAll(".x.axis");if(l.size())l.attr("transform","translate(0,".concat(a,")")).call(i);else{Object(se.j)(e).append("g").attr("class","x axis").attr("transform","translate(0,".concat(a,")")).call(i);var u=Object(se.j)(e).select(".x.axis");u.selectAll(".domain, .tick line").attr("stroke","rgba(20,106,164,.5)"),u.selectAll(".tick text").style("fill","#136AA4")}}()}),[t,n]),null},ge=function(e){var t=e.scale,n=e.svgContainerData;return Object(i.useEffect)((function(){n&&function(){var e=n.rootGroup,r=Object(se.b)(t).ticks(3).tickPadding(5),a=Object(se.j)(e).selectAll(".y.axis");if(a.size())a.call(r);else{Object(se.j)(e).append("g").attr("class","y axis").call(r);var o=Object(se.j)(e).select(".y.axis");o.selectAll(".domain, .tick line").attr("stroke","rgba(20,106,164,.5)"),o.selectAll(".tick text").style("fill","#136AA4")}}()}),[t,n]),null},xe=function(e){var t=e.data4Bars,n=void 0===t?[]:t,r=e.data4Line,a=void 0===r?[]:r,o=e.barColor,c=e.lineColor,u=e.lineWidth,s=e.margin,m=e.timeFormatSpecifier,d=e.numOfTicksOnXAxisToHide,p=e.resizable,h=void 0===p||p,b=Object(i.useState)({height:0,width:0}),y=f()(b,2),g=y[0],x=y[1],E=Object(i.useState)(),j=f()(E,2),w=j[0],O=j[1],M=Object(i.useMemo)((function(){return n.length||a.length?(n&&n.length?v()(n):v()(a)).map((function(e){return"number"==typeof e.key?e.key.toString():e.key})):[]}),[n,a]),S=Object(i.useMemo)((function(){var e=g.width;if(n&&n.length)return Object(se.g)().paddingInner(.9).range([0,e]).domain(M);var t=+a[0].key,r=Object(se.e)(a,(function(e){return+e.key}));return m?Object(se.i)().range([0,e]).domain([t,r]):Object(se.h)().range([0,e]).domain([t,r])}),[g,M]),P=Object(i.useMemo)((function(){var e=g.height,t=n&&n.length?Object(se.e)(n,(function(e){return e.value})):0,r=a&&a.length?Object(se.e)(a,(function(e){return e.value})):void 0,o=Object(se.e)([t,r]);return Object(se.h)().range([e,0]).domain([0,o])}),[g,n,a]),k=Object(i.useMemo)((function(){if(d&&!(d<=1))return n.map((function(e){return e.key})).filter((function(e,t){return!(t%d)}))}),[n]);return l.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",boxSizing:"border-box"}},l.a.createElement(he,{margin:s,resizable:h,dimensionOnChange:x},n&&n.length?l.a.createElement(fe,{data:n,xScale:S,yScale:P,color:o}):l.a.createElement(l.a.Fragment,null),a&&a.length?l.a.createElement(de,{data:a,xScale:S,yScale:P,color:c,width:u}):l.a.createElement(l.a.Fragment,null),l.a.createElement(ye,{scale:S,timeFormatSpecifier:m,tickValues:k}),l.a.createElement(ge,{scale:P}),l.a.createElement(pe,{xDomain:M,xScale:S,onHover:O})),l.a.createElement(ve,{pointerPosition:w,dimension:g,data4Bars:n,data4Line:a,margin:s}))},Ee=function(e,t){return e.map((function(e,t){return{key:t,value:e}}))},je=function(e){var t=e.data,n=Object(i.useContext)(j),r=n.unemploymentDataByFIPS,a=(n.months,Object(i.useMemo)((function(){var e=r[0].PctUnemployed;return Ee(e)}),[r])),o=Object(i.useMemo)((function(){var e=t.PctUnemployed;return Ee(e)}),[t]);return l.a.createElement("div",{style:{position:"relative",flexGrow:1}},l.a.createElement("div",{className:"text-right",style:{position:"absolute",top:".25rem",right:"1rem"}},l.a.createElement(q,{color:"orange"},"Local Unemployment"),l.a.createElement("br",null),l.a.createElement(q,{color:"blue"},"National Unemployment")),l.a.createElement(xe,{data4Bars:o,data4Line:a}))};function we(){var e=N()(["\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    cursor: pointer;\n\n    svg {\n        stroke: ",";\n        fill: ",";\n    }\n"]);return we=function(){return e},e}function Oe(){var e=N()(["\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 250px;\n    display: flex;\n    box-sizing: border-box;\n    background-color: ",";\n    padding: 1rem 2rem;\n    box-shadow: 0 0 10px 2px #156aa4;\n    z-index: 5;\n\n    @media (max-width: ","px) {\n        top: 0;\n        bottom: 0;\n        height: unset;\n        flex-direction: column;\n        overflow-y: auto;\n    }\n"]);return Oe=function(){return e},e}var Me=V.a.div(Oe(),"rgba(3, 26, 57, 0.9)",767),Se=V.a.div(we(),"#136AA4","#136AA4"),Pe=function(e){var t=e.data,n=e.close;return t?l.a.createElement(Me,null,l.a.createElement(K,{data:t}),l.a.createElement(ue,{data:t}),l.a.createElement(je,{data:t}),l.a.createElement(Se,{onClick:n},l.a.createElement("svg",{height:"32",width:"32",viewBox:"0 0 32 32",className:""},l.a.createElement("path",{d:"M23.985 8.722L16.707 16l7.278 7.278-.707.707L16 16.707l-7.278 7.278-.707-.707L15.293 16 8.015 8.722l.707-.707L16 15.293l7.278-7.278z"})))):null},ke=function(e){var t=e.queryResult,n=e.mapView,r=Object(i.useState)(),o=f()(r,2),l=o[0],u=o[1],s=function(){var e=c()(a.a.mark((function e(){var t,r,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.loadModules)(["esri/layers/GraphicsLayer"]);case 3:t=e.sent,r=f()(t,1),o=r[0],c=new o({opacity:.8,effect:"blur(3px)"}),n.map.add(c),u(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=c()(a.a.mark((function e(){var n,r,o,c,i,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.loadModules)(["esri/Graphic","esri/geometry/Polygon","esri/symbols/SimpleFillSymbol"]);case 2:n=e.sent,r=f()(n,3),o=r[0],c=r[1],i=r[2],(u=new o({geometry:new c(t.geometry)})).symbol=new i({color:[0,0,0,0],outline:{color:D,width:1}}),l.add(u);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){n&&s()}),[n]),Object(i.useEffect)((function(){l&&(l.removeAll(),t&&m())}),[t]),null},Ce=function(e){var t=e.url,n=e.outFields,r=e.mapView,o=e.visibleScale,l=e.onSelect,u=Object(i.useRef)(),s=Object(i.useRef)(),m=function(){var e=c()(a.a.mark((function e(){var c,i,l,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.loadModules)(["esri/layers/FeatureLayer"]);case 3:c=e.sent,i=f()(c,1),l=i[0],m=new l({url:t,minScale:o&&o.min,maxScale:o&&o.max,visible:!0,popupEnabled:!1,outFields:n,opacity:0}),r.map.add(m),r.whenLayerView(m).then((function(e){u.current=m,s.current=e,p()})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=c()(a.a.mark((function e(t){var o,c,i,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.event,c=t.where,!(r.scale<u.current.minScale&&r.scale>u.current.maxScale)){e.next=9;break}return c=c||"1=1",i=o?r.toMap(o):null,e.next=7,s.current.queryFeatures({where:c,geometry:i,returnGeometry:!0,outFields:n||["*"]});case 7:m=e.sent,l(m.features&&m.features.length?m.features[0]:void 0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){r.on("click",(function(e){d({event:e})}))};return Object(i.useEffect)((function(){r&&m()}),[r]),null},Fe=function(e){var t=e.data,n=e.nationalLevelData,r=e.showDeviation,o=e.color,l=e.referenceLineColor,u=e.visibleScale,s=e.mapView,m=Object(i.useRef)(),d=Object(i.useRef)(),p=Object(i.useState)(!1),h=f()(p,2),v=h[0],b=h[1],y=function(){var e=c()(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.loadModules)(["esri/layers/GraphicsLayer","esri/core/watchUtils"]);case 3:t=e.sent,n=f()(t,2),r=n[0],o=n[1],d.current=new r({minScale:u&&u.min,maxScale:u&&u.max,visible:!1}),s.map.add(d.current),o.whenTrue(s,"stationary",(function(){var e=s.scale<u.min&&s.scale>u.max;b(e)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=c()(a.a.mark((function e(){var c,i,u,s,p,h,v,b,y,g,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.current,i=n.features[0].PctUnemployed.path,u=n.frames.PctUnemployed,e.prev=3,e.next=6,Object(M.loadModules)(["esri/symbols/CIMSymbol","esri/Graphic","esri/geometry/Point"]);case 6:s=e.sent,p=f()(s,3),h=p[0],v=p[1],b=p[2],y=t.features,g=t.frames,x=r?g.PctUnemployedDeviation:g.PctUnemployed,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=800,a=t+n<y.length?t+n:y.length,s=y.slice(t,a),f=s.map((function(e){var t=e.geometry,n=e.PctUnemployed,a=e.PctUnemployedDeviation,c={x:0,y:r?0:-.5},s=r?60:30,m=(r?a:n).path,f=new h({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",anchorPoint:c,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:s,frame:x,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[m]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:o}]}}]},r?null:{type:"CIMVectorMarker",anchorPoint:c,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:s,frame:u,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[i]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:l}]}}]},r?{type:"CIMVectorMarker",anchorPoint:c,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:s,frame:x,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[0,0],[x.xmax,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:l}]}}]}:null]}}});return new v({geometry:new b({latitude:t.y,longitude:t.x}),symbol:f})}));c.addMany(f),t+n<y.length?m.current=setTimeout((function(){e(t+n)}),1):c.visible=!0}(0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){s&&y()}),[s]),Object(i.useEffect)((function(){d.current&&t&&(d.current.removeAll(),clearTimeout(m.current),v&&g())}),[d,t,r]),Object(i.useEffect)((function(){t&&v&&!d.current.graphics.length&&(clearTimeout(m.current),g())}),[v]),null},Le=function(e){var t=e.showDeviation,n=e.onChange;return l.a.createElement("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#fff",padding:".5rem",cursor:"pointer",zIndex:1},onClick:n},l.a.createElement("nav",{className:"breadcrumbs modifier-class"},l.a.createElement("span",{className:B()("crumb",{"is-active":!t})},"Pct Unemployment"),l.a.createElement("span",{className:B()("crumb",{"is-active":t})},"Deviation")))},Ue=function(){return l.a.createElement(A,null)};c()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null,l.a.createElement(Ue,null))),document.getElementById("root"));case 1:case"end":return e.stop()}}),e)})))()},98:function(e,t,n){}});
//# sourceMappingURL=main.bf6cfa03385b6ff8cb32.js.map