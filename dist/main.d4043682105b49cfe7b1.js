!function(e){function t(t){for(var r,c,i=t[0],l=t[1],s=t[2],p=0,m=[];p<i.length;p++)c=i[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&m.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push([46,1]),n()}({19:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(4),c=n.n(o),i=(n(19),n(0)),l=n.n(i),s=n(17),u=n.n(s),p=n(2),m=n.n(p),f=n(6),y=n.n(f),h=Object(i.createContext)(null),b=function(e){var t=e.children,n=Object(i.useState)(),r=m()(n,2),o=r[0],s=r[1],u=function(){var e=c()(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("./public/".concat("unemployment-states-paths.json"));case 3:return t=e.sent,e.next=6,y.a.get("./public/".concat("unemployment-counties-paths.json"));case 6:return n=e.sent,e.next=9,y.a.get("./public/".concat("unemployment-national-paths.json"));case 9:r=e.sent,s({unemploymentDataPathsStates:t.data,unemploymentDataPathsCounties:n.data,unemploymentDataPathsUS:r.data}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){u()}),[]),l.a.createElement(h.Provider,{value:o},o?t:null)},d=n(5),v=function(e){var t=e.webmapId,n=e.children,r=l.a.useRef(),o=l.a.useState(null),i=m()(o,2),s=i[0],u=i[1],p=function(){var e=c()(a.a.mark((function e(){var n,o,c,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.loadModules)(["esri/views/MapView","esri/WebMap"]);case 3:n=e.sent,o=m()(n,2),c=o[0],i=o[1],(l=new c({container:r.current,map:new i({portalItem:{id:t}})})).when((function(){u(l)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=c()(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.loadModules)(["esri/core/watchUtils"]);case 3:t=e.sent,n=m()(t,1),n[0].whenTrue(s,"stationary",(function(){s.zoom})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){Object(d.loadCss)(),p()}),[]),l.a.useEffect((function(){s&&f()}),[s]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:r}),s?l.a.Children.map(n,(function(e){return l.a.cloneElement(e,{mapView:s})})):null)},w={min:99999999,max:3e6},g={min:3e6,max:0},x=function(){var e=Object(i.useContext)(h),t=e.unemploymentDataPathsStates,n=e.unemploymentDataPathsCounties,r=e.unemploymentDataPathsUS,a=Object(i.useState)(!1),o=m()(a,2),c=o[0],s=o[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{webmapId:"5f3b7605b3364e7bb2416c93fae00995"},l.a.createElement(S,{showDeviation:c,nationalLevelData:r,data:t,visibleScale:w}),l.a.createElement(S,{showDeviation:c,nationalLevelData:r,data:n,visibleScale:g})),l.a.createElement(j,{showDeviation:c,onChange:s.bind(void 0,!c)}))},S=function(e){var t=e.data,n=e.nationalLevelData,r=e.showDeviation,o=e.visibleScale,l=e.mapView,s=Object(i.useRef)(),u=Object(i.useRef)(),p=Object(i.useState)(!1),f=m()(p,2),y=f[0],h=f[1],b=function(){var e=c()(a.a.mark((function e(){var t,n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d.loadModules)(["esri/layers/GraphicsLayer","esri/core/watchUtils"]);case 3:t=e.sent,n=m()(t,2),r=n[0],c=n[1],u.current=new r({minScale:o&&o.min,maxScale:o&&o.max,visible:!1}),l.map.add(u.current),c.whenTrue(l,"stationary",(function(){var e=l.scale<o.min&&l.scale>o.max;h(e)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=c()(a.a.mark((function e(){var o,c,i,l,p,f,y,h,b,v,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.current,c=n.features[0].PctUnemployed.path,i=n.frames.PctUnemployed,e.prev=3,e.next=6,Object(d.loadModules)(["esri/symbols/CIMSymbol","esri/Graphic","esri/geometry/Point"]);case 6:l=e.sent,p=m()(l,3),f=p[0],y=p[1],h=p[2],b=t.features,v=t.frames,w=r?v.PctUnemployedDeviation:v.PctUnemployed,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=800,a=t+n<b.length?t+n:b.length,l=b.slice(t,a),u=l.map((function(e){var t=e.geometry,n=e.PctUnemployed,a=e.PctUnemployedDeviation,o={x:0,y:r?0:-.5},l=r?60:30,s=(r?a:n).path,u=new f({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",anchorPoint:o,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:l,frame:w,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[s]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:[50,100,255,255]}]}}]},r?null:{type:"CIMVectorMarker",anchorPoint:o,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:l,frame:i,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[c]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:[255,50,50,100]}]}}]},r?{type:"CIMVectorMarker",anchorPoint:o,anchorPointUnits:"Relative",enable:!0,scaleSymbolsProportionally:!1,respectFrame:!0,size:l,frame:w,markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[0,0],[w.xmax,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:1,color:[255,50,50,100]}]}}]}:null]}}});return new y({geometry:new h({latitude:t.y,longitude:t.x}),symbol:u})}));o.addMany(u),t+n<b.length?s.current=setTimeout((function(){e(t+n)}),1):o.visible=!0}(0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){l&&b()}),[l]),Object(i.useEffect)((function(){u.current&&t&&(u.current.removeAll(),clearTimeout(s.current),y&&v())}),[u,t,r]),Object(i.useEffect)((function(){t&&y&&!u.current.graphics.length&&(clearTimeout(s.current),v())}),[y]),null},M=n(7),P=n.n(M),j=function(e){var t=e.showDeviation,n=e.onChange;return l.a.createElement("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#fff",padding:".5rem",cursor:"pointer",zIndex:1},onClick:n},l.a.createElement("nav",{className:"breadcrumbs modifier-class"},l.a.createElement("span",{className:P()("crumb",{"is-active":!t})},"Pct Unemployment"),l.a.createElement("span",{className:P()("crumb",{"is-active":t})},"Deviation")))},k=function(){return l.a.createElement(x,null)};c()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null,l.a.createElement(k,null))),document.getElementById("root"));case 1:case"end":return e.stop()}}),e)})))()}});
//# sourceMappingURL=main.d4043682105b49cfe7b1.js.map